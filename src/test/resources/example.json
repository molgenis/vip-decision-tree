{
  "rootNode": "filter",
  "nodes": {
    "filter": {
      "type": "BOOL",
      "description": "All filters passed",
      "query": {
        "field": "FILTER",
        "operator": "==",
        "value": [
          "PASS"
        ]
      },
      "outcomeTrue": {
        "nextNode": "vkgl_mvl"
      },
      "outcomeFalse": {
        "nextNode": "exit_remove"
      },
      "outcomeMissing": {
        "nextNode": "vkgl_mvl"
      }
    },
    "artefact": {
      "type": "BOOL",
      "description": "Artefact",
      "query": {
        "field": "INFO/CSQ/ARTEFACT",
        "operator": "==",
        "value": "1"
      },
      "outcomeTrue": {
        "nextNode": "exit_remove"
      },
      "outcomeFalse": {
        "nextNode": "hla"
      },
      "outcomeMissing": {
        "nextNode": "hla"
      }
    },
    "hla": {
      "type": "BOOL",
      "description": "Is HLA gene",
      "query": {
        "field": "INFO/CSQ/GENE",
        "operator": "contains_any",
        "value": [
          "3105",
          "3106",
          "3107",
          "3123",
          "3127",
          "3117",
          "3119"
        ]
      },
      "outcomeTrue": {
        "nextNode": "exit_remove"
      },
      "outcomeFalse": {
        "nextNode": "gnomad_af"
      },
      "outcomeMissing": {
        "nextNode": "gnomad_af"
      }
    },
    "spliceAI": {
      "description": "SpliceAI",
      "type": "BOOL_MULTI",
      "fields": [
        "INFO/TEST/SpliceAI_pred_DS_AG",
        "INFO/TEST/SpliceAI_pred_DS_AL",
        "INFO/TEST/SpliceAI_pred_DS_DG",
        "INFO/TEST/SpliceAI_pred_DS_DL"
      ],
      "outcomes": [
        {
          "description": "Any SpliceAI score  > 0.42",
          "operator": "OR",
          "queries": [
            {
              "field": "INFO/TEST/SpliceAI_pred_DS_AG",
              "operator": ">",
              "value": 0.42
            },
            {
              "field": "INFO/TEST/SpliceAI_pred_DS_AL",
              "operator": ">",
              "value": 0.42
            },
            {
              "field": "INFO/TEST/SpliceAI_pred_DS_DG",
              "operator": ">",
              "value": 0.42
            },
            {
              "field": "INFO/TEST/SpliceAI_pred_DS_DL",
              "operator": ">",
              "value": 0.42
            }
          ],
          "outcomeTrue": {
            "nextNode": "exit_keep"
          }
        }
      ],
      "outcomeDefault": {
        "nextNode": "capice"
      },
      "outcomeMissing": {
        "nextNode": "capice"
      }
    },
    "vkgl_mvl": {
      "description": "MVL or VKGL Consensus.",
      "type": "BOOL_MULTI",
      "fields": [
        "INFO/CSQ/VKGL_CL",
        "INFO/CSQ/VKGL_UMCG"
      ],
      "outcomes": [
        {
          "description": "VKGL/MVL == P/LP",
          "operator": "OR",
          "queries": [
            {
              "field": "INFO/CSQ/VKGL_CL",
              "operator": "in",
              "value": [
                "P",
                "LP"
              ]
            },
            {
              "field": "INFO/CSQ/VKGL_UMCG",
              "operator": "in",
              "value": [
                "P",
                "LP"
              ]
            }
          ],
          "outcomeTrue": {
            "nextNode": "exit_keep"
          }
        },
        {
          "description": "VKGL/MVL == B/LB",
          "operator": "OR",
          "queries": [
            {
              "field": "INFO/CSQ/VKGL_CL",
              "operator": "in",
              "value": [
                "B",
                "LB"
              ]
            },
            {
              "field": "INFO/CSQ/VKGL_UMCG",
              "operator": "in",
              "value": [
                "B",
                "LB"
              ]
            }
          ],
          "outcomeTrue": {
            "nextNode": "exit_remove"
          }
        }
      ],
      "outcomeDefault": {
        "nextNode": "artefact"
      },
      "outcomeMissing": {
        "nextNode": "artefact"
      }
    },
    "gnomad_af": {
      "description": "gnomAD AF < 0.5%",
      "type": "BOOL",
      "query": {
        "field": "INFO/CSQ/gnomAD_AF",
        "operator": "<",
        "value": 0.005
      },
      "outcomeTrue": {
        "nextNode": "gnomad_hn"
      },
      "outcomeFalse": {
        "nextNode": "exit_remove"
      },
      "outcomeMissing": {
        "nextNode": "gnomad_hn"
      }
    },
    "gnomad_hn": {
      "type": "BOOL",
      "description": "gnomAD Homozygote count > 5",
      "query": {
        "field": "INFO/CSQ/gnomAD_HN",
        "operator": ">",
        "value": 5
      },
      "outcomeTrue": {
        "nextNode": "exit_remove"
      },
      "outcomeFalse": {
        "nextNode": "spliceAI"
      },
      "outcomeMissing": {
        "nextNode": "spliceAI"
      }
    },
    "capice": {
      "type": "BOOL",
      "description": "CAPICE score < 0.15",
      "query": {
        "field": "INFO/CSQ/CAPICE_SC",
        "operator": "<",
        "value": 0.15
      },
      "outcomeTrue": {
        "nextNode": "exit_remove"
      },
      "outcomeFalse": {
        "nextNode": "exit_keep"
      },
      "outcomeMissing": {
        "nextNode": "exit_missing"
      }
    },
    "exit_keep": {
      "type": "LEAF",
      "class": "LP"
    },
    "exit_missing": {
      "type": "LEAF",
      "class": "MISS"
    },
    "exit_remove": {
      "type": "LEAF",
      "class": "LB"
    }
  }
}
